# commit 1

FastAPI 업로드 API로 파일을 받아 `markitdown`으로 변환한 뒤, 변환 결과를 `.md` 파일로 내려받게 했어요. Docker 이미지로 바로 실행 가능하도록 Dockerfile과 .dockerignore, requirements.txt도 추가했습니다.

**변경 내용**
- 업로드된 파일을 임시 저장 후 `MarkItDown().convert()` 실행하고 결과를 Markdown 파일로 응답
- 변환 실패 시 500 에러 처리
- 컨테이너 실행을 위한 최소 구성 제공

**추가된 파일**
- main.py
- requirements.txt
- Dockerfile
- .dockerignore

**사용 예시**
```bash
curl -X POST "http://localhost:8000/convert" \
  -F "file=@/path/to/input.pdf" \
  -o output.md
```

**다음 단계**
1. `docker build -t markitdown-api .`
2. `docker run --rm -p 8000:8000 markitdown-api`


# commit 2

## 변경 사항

**1. main.py**
- 출력 디렉토리를 `/app/output`으로 설정 (환경 변수로 변경 가능)
- 임시 파일 대신 출력 디렉토리에 MD 파일 저장
- 응답을 JSON 형식으로 변경 (파일명과 저장 경로 포함)

**2. Dockerfile**
- `/app/output` 디렉토리 생성
- `VOLUME ["/app/output"]`으로 마운트 포인트 정의

**3. docker-compose.yml** (신규)
- `./output` 디렉토리를 컨테이너의 `/app/output`에 마운트
- 포트 8000 노출
- 환경 변수 설정

**4. USAGE.md** (신규)
- 사용 방법 및 예시 문서

## 실행 방법

```bash
# Docker Compose로 실행 (권장)
docker-compose up --build -d

# 파일 변환
curl -X POST "http://localhost:8000/convert" \
  -F "file=@test.pdf"

# 변환된 파일은 ./output 디렉토리에 자동 저장됨
```

변환된 MD 파일이 호스트의 `./output/` 디렉토리에 저장됩니다!

Made changes.

# commit 3

완료되었습니다. 이제 markdown 변환 후 폼 피드 문자(`\f`)가 자동으로 제거됩니다.

Made changes.


# commit 4

주요 변경사항
main.py

convert_single_file() 함수 추가: 파일 변환 로직을 재사용 가능하도록 분리
/convert-folder 엔드포인트 추가: 입력 폴더의 모든 지원 파일을 순차 처리
/supported-formats 엔드포인트 추가: 지원 파일 형식 조회
FolderConvertResponse 모델 추가: 배치 결과 응답
docker-compose.yml

input 볼륨 마운트 추가
Dockerfile

/app/input 디렉토리 생성
VOLUME에 input 추가
USAGE.md

배치 변환 사용 방법 추가
예제 및 응답 형식 추가
사용 방법
1. 파일을 input 폴더에 넣기

Edited
.gitignore+3-1
2. 배치 변환 실행


curl -X POST "http://localhost:8000/convert-folder"
3. 결과 확인


ls ./output/# document.md# presentation.md# spreadsheet.md
26가지 파일 형식 (PDF, DOCX, XLSX, CSV, JSON, HTML, 이미지, 오디오 등)을 지원합니다.




# commit 5

아! Pandoc이 .doc 형식을 지원하지 않습니다. Pandoc은 .docx만 지원합니다.

.doc → .docx 변환에는 LibreOffice를 사용해야 합니다. 수정하겠습니다:

Replacing 21 lines with 22 lines in Dockerfile

Replacing 24 lines with 30 lines in main.py

완료했습니다! LibreOffice를 사용하도록 변경했습니다.

변경사항:

Dockerfile: LibreOffice 설치 추가
main.py: LibreOffice headless 모드로 .doc → .docx 변환
재빌드 및 테스트:

Edited
main.py+19-13
⚠️ 주의: LibreOffice 설치로 인해 이미지 빌드 시간이 3~5분 걸릴 수 있습니다.

